<!doctype html><head><meta charset="UTF-8"><base href="../../"><title>March 2022 Update - DESΩLATION</title><link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png"><link rel="manifest" href="site.webmanifest"><link rel="mask-icon" href="safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" content="#ffffff"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="stylesheet" href="style.css"><link rel="stylesheet" href="dist/css/splide.min.css"><link rel="preconnect" href="https://fonts.gstatic.com"><link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&amp;family=Roboto+Condensed:wght@300;400;700&amp;family=Inter:wght@400;500;600;700&amp;family=Open+Sans:wght@400;500;700&amp;display=swap" rel="stylesheet"><script src="dist/js/splide.min.js"></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-J4Z3WJT19Q"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-J4Z3WJT19Q")</script><link rel="stylesheet" href="news/news_style.css"><link rel="stylesheet" href="news/article_style.css"><script src="image-compare-viewer.min.js"></script><link rel="stylesheet" href="image-compare-viewer.min.css"><script>function toggle_vid(a){a.paused?a.play():a.pause()}</script></head><body><video class="background" id="background-video" loop muted autoplay poster="videos/bigsphere_thumb.jpg"><source src="videos/bigsphere.webm" type="video/webm"></video><script src="parallax.js"></script><div class="navbar"><a href="">ABOUT</a><a class="navactive" href="news">NEWS</a><a href="media">MEDIA</a><a href="team">TEAM</a><a href="faq">FAQ</a></div><div></div><div class="logoContainer"><img class="logo" src="./images/desolation_logo.png"><div class="logoSubTitle"><p class="logo_bottom">A new community-made <b>Portal</b> game, in tribute to Valve's iconic series</p><p class="logo_bottom">Currently mid-development</p></div></div><svg id="fader"></svg><script>fadeInPage(),document.addEventListener("DOMContentLoaded",function(){setInterval(function(){var e=1;.5<Math.random()&&(e=Math.random()),document.querySelector("img.logo").style.opacity=.9+.1*e},60)})</script><div class="articleNoHover"><img class="smallHeadline" src="news/mar2022/images/header.png" style="object-position:top"><div class="articleHeadlineBox"><h1 class="newsHeadline" style="font-size:350%">MARCH 2022</h1><p class="newsHeadlineDesc">A look at some major graphical overhauls for Desolation, in the works for over a year.</p></div></div><div class="articleContentBackBG"><div class="articleContentBG"><div class="centerContentText"><h1>The Year-Long Project</h1><p class="articleBody">Hello again! It's been a long time since our last big update in late 2020. Other than a few small teaser images, there's barely been a word spoken — what gives?</p><p class="articleBody">Finally, this update is the culmination of our radio silence. Behind the curtain, we’ve spent the last year quietly working away on our most ambitious overhaul of Desolation and its engine to date. We’re extremely proud of our progress, and we’re ready to show you what we’ve been up to.</p><p class="articleBody">In summary: we’ve completely replaced the Source Engine’s rendering and lighting pipeline.</p></div><div class="resp-container"><iframe class="resp-iframe" src="https://www.youtube-nocookie.com/embed/RjoatjztY_Y" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div><div class="centerContentText"><h1>The&nbsp;Source Pipeline</h1><p class="articleBody">With the traditional Source rendering pipeline, lighting is pre-computed and baked into maps via lightmaps during a lengthy compilation process using Valve’s radiosity simulator (VRAD). Using this method, we faced three major problems:</p><ol><li>Lights were placed by artists outside of the game, in a separate editor with no previewing capability. While the results of this were generally accurate in-game, it was normal for this process to take hours of time. This made iteration very time-consuming, and was inconvenient for our art team all around. The static nature of lightmaps also makes it impossible for lights to move and change with their environment.</li><li>Source handles lighting for world geometry and models differently, using lightmaps for the former and per-vertex lighting for the latter. This often produces poorer, less consistent results, especially when placing world geometry next to models.</li><li>Source’s surface definition is fairly binary: surfaces are either shiny or not, and conveying differences in material types like cloth, metal and plastic was challenging.</li></ol><p></p><p class="articleBody">With our engine overhaul, we canned the Source model and rebuilt it from the ground up. Here’s how we addressed these challenges.</p><h1>The&nbsp;Desolation Pipeline</h1><p class="articleBody">We’ve introduced a physically-based renderer that unifies and drives shading of all surfaces in the world.</p><p class="articleBody">Lights are now completely real-time with per-pixel shadow maps, with no computation done by the compiler. As a result, lights can now be placed and moved around in-game, making it simple for artists to quickly iterate on designs. This also has the benefit of allowing lights to move and change color/intensity in the level, making it possible for us to choreograph more sophisticated, dynamic scenes with lighting. This is crucial for a game like Desolation.</p><p class="articleBody">We’re now able to more strongly ground common elements in the world by having them cast lights dynamically. All your favorite test elements like lasers, excursion funnels and light bridges now cast light, moving and extending along with the element.</p><p class="articleBody">Lights also support real-time volumetrics, allowing artists to drive a stronger atmosphere by using lights with a more physical presence in the air. Artists can also equip lights with non-standard shapes using light cookies, which affect both volumetrics and surface lighting.</p></div><div class="img-container" onclick="toggle_vid(document.getElementById(&quot;vid1&quot;))"><video class="feature padded" id="vid1" loop muted autoplay playsinline=""><source src="news/mar2022/videos/dynamic.mp4" type="video/mp4"></video></div><div class="centerContentText"><p class="articleBody">We’ve also re-thought how lights and reflections interact with the world’s surfaces. In Portal 2, lights did not contribute to the specular term of a surface; instead, a static “cubemap” – a capture of the surroundings – would be generated by artists, and then re-cast onto nearby surfaces without any parallax correction or lighting information.</p><p class="articleBody">With our new renderer, lights now make a direct, independent contribution to reflections on a surface, modulating their intensity based on proximity and angle relative to the surface. They interact real-time with the material properties of surfaces, such as roughness and metalness, to determine what kind of shine to produce.</p><p class="articleBody">To extend cubemaps, we’ve developed a new system we call reflection probes. Reflection probes capture the environment, sample the lighting, and recast an approximation onto nearby surfaces. Real-time and texture-based ambient occlusion uses this to drive where softer shadows accumulate, allowing us to preserve some of the subtleties of light bouncing from VRAD. Reflections are also parallax-corrected, and can have a spherical or rectangular area of influence.</p></div><div class="img-container" onclick="toggle_vid(document.getElementById(&quot;vid2&quot;))"><video class="feature padded" id="vid2" loop muted autoplay playsinline=""><source src="news/mar2022/videos/closeups_reflprobe.webm" type="video/webm"></video></div><div class="centerContentText"><h1>Reinventing The&nbsp;Art</h1><p class="articleBody">With our new physically-based renderer now unifying shading for all surfaces in the world, the techniques used by Valve for Portal 2 just didn’t translate; game assets were made with a different rendering pipeline designed for older technology.</p><p class="articleBody">So, in addition to redoing the renderer, we’ve also spent time rebuilding some core Portal 2 assets from scratch, taking the opportunity to not only increase the fidelity of those assets, but also to expand their character by giving them stronger material identity with our new unified shaders. For assets which didn't need the "from scratch" treatment, we've still augmented many of them with updated reflectiveness properties to give them a little more depth. We’ve been careful to stay true to the look and feel of Portal, while also modernizing it and adding our own distinct flair.</p></div><div class="img-container"><div class="padded" id="image-compare"><img src="news/mar2022/images/before.png"><img src="news/mar2022/images/after.png"></div></div><script>const element=document.getElementById("image-compare"),options={showLabels:!0,labelOptions:{before:"Before",after:"After",onHover:!1}},viewer=new ImageCompare(element,options).mount()</script><div class="centerContentText"><p class="articleBody">Standardizing our rendering system has also come with the added benefit of increased consistency in appearance between our engine and tools like the Substance suite and Blender. There used to be a large gap between how an asset would look in one tool versus in-game. With our upgrades, this barrier has effectively been removed.</p><h1>Conclusion</h1><p class="articleBody">We’ve spent the last year making some sweeping architectural changes to Desolation’s engine. These changes not only improve the fidelity, character, and flexibility of the game’s art, but also massively speed up our own workflow.</p><p class="articleBody">While the focus here has been on lighting and material definition, more generally, we've significantly reduced the number of barriers that artists have run into while working with the engine. We can now accomplish new technical and artistic feats which wouldn’t have been possible before, and to fully realize our goal for what we want Desolation to be.</p><p class="articleBody">This upgrade isn't the only thing we've been working on over the last year either. Throughout the overhaul process, the team has been quickly creating and iterating on new sections of the game. This has been happening much faster thanks to the workflow improvements brought by the overhaul.</p><p class="articleBody">We still have lots of work ahead polishing and refining this ambitious graphical overhaul, and lots more work ahead to finish the rest of the game. Getting this far has been an adventure, and we’re excited for the adventure left ahead. Thank you for following along with the development process so far, and stay tuned for more updates as progress continues.</p></div><div class="img-container" onclick="toggle_vid(document.getElementById(&quot;vid3&quot;))"><video class="feature padded" id="vid3" loop muted autoplay playsinline=""><source src="news/mar2022/videos/cubebounce.webm" type="video/webm"></video></div></div></div><div style="background-color:#0e0e0e"><div class="bottomzone_socials"><a class="button_socials" href="https://discord.gg/9H65vyQ" style="background-image:url(images/discord.png)" target="_blank"></a><a class="button_socials" href="https://www.moddb.com/mods/desolation" style="background-image:url(images/moddb.png)" target="_blank"></a><a class="button_socials" href="https://twitter.com/desolation_mod" style="background-image:url(images/twitter.png)" target="_blank"></a><a class="button_socials" href="https://www.instagram.com/portal2_desolation/" style="background-image:url(images/instagram.png)" target="_blank"></a><a class="button_socials" href="https://www.youtube.com/embersparkgames" style="background-image:url(images/youtube.png)" target="_blank"></a></div><div class="bottomzone_emberspark"><a href="https://emberspark.games" target="_blank"><img class="emberspark" src="./images/emberspark.svg"></a><p class="feet" style="font-weight:400;opacity:50%">© Emberspark Games, 2024 &mdash; <span><a class="url" href="mailto:info@emberspark.games">Contact Us</a></span></p></div></div></body>